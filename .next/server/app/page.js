(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},5470:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(6186),n=r(6557),o=r(6437),i=r.n(o),a=r(4842),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2202)),"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7308)),"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,571,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,1430,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5055,23)),"next/dist/client/components/unauthorized-error"]}],u=["C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8421:(e,t,r)=>{Promise.resolve().then(r.bind(r,2202))},1573:(e,t,r)=>{Promise.resolve().then(r.bind(r,3648))},7873:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6093,23)),Promise.resolve().then(r.t.bind(r,1101,23)),Promise.resolve().then(r.t.bind(r,6437,23)),Promise.resolve().then(r.t.bind(r,5364,23)),Promise.resolve().then(r.t.bind(r,956,23)),Promise.resolve().then(r.t.bind(r,3896,23)),Promise.resolve().then(r.t.bind(r,5567,23))},7201:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6417,23)),Promise.resolve().then(r.t.bind(r,3609,23)),Promise.resolve().then(r.t.bind(r,5678,23)),Promise.resolve().then(r.t.bind(r,7312,23)),Promise.resolve().then(r.t.bind(r,2608,23)),Promise.resolve().then(r.t.bind(r,7204,23)),Promise.resolve().then(r.t.bind(r,2019,23))},9457:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6604,23))},2609:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2288,23))},3648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W,useAllStudentsStore:()=>I,useSessionStateStore:()=>D,useUserSettingsAndWorksheetImagesStore:()=>A,worksheetImages:()=>R,worksheetImagesLoadedFromFileInput:()=>B,worksheets:()=>U});var s=r(5422),n=r(719),o=r.n(n);let i=e=>{let t;let r=new Set,s=(e,s)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,o={setState:s,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(s,n,o);return o},a=e=>e?i(e):i,l=e=>e,d=e=>{let t=a(e),r=e=>(function(e,t=l){let r=n.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},u=e=>e?d(e):d,c={red:"#B90000",orange:"#E15E00",yellow:"#D4D300",green:"#2D8B1E",cyan:"#0DB6B3",blue:"#0d22b6",purple:"#7e069d",pink:"#da2bb9"};for(let e in c)c[e]={standard:c[e],light:c[e]+"55"};let p={panelPadding:"6px",pagePadding:"18px",worksheetSelectionPanelWidth:"300px",colorMap:c,getGenericButtonStyle:function(e){return{padding:"10px",borderRadius:"8px",cursor:"pointer",borderColor:"black",borderStyle:"solid",...{primary:{backgroundColor:"black",color:"white",border:"none"},secondary:{backgroundColor:"white",color:"black"},tertiary:{backgroundColor:"transparent",color:"black",border:"none"}}[e]}},CloseButton:function(e,t){return(0,s.jsx)("button",{style:{position:"absolute",top:e,right:e,backgroundColor:"transparent",border:"none",cursor:"pointer",width:"40px",height:"40px",fontSize:"30px",color:"black"},onClick:t,children:"\xd7"})}};function g(){let e={flexGrow:1,flexBasis:"0%",height:"100%",backgroundColor:"lightgrey",padding:p.panelPadding,boxSizing:"border-box",display:"flex",flexDirection:"column"};return(0,s.jsxs)("div",{style:e,children:[(0,s.jsxs)("div",{style:{display:"flex",height:"0%",flexGrow:1,backgroundColor:"lightblue"},children:[(0,s.jsx)(b,{isLeftOrRight:"left"}),(0,s.jsx)(b,{isLeftOrRight:"right"})]}),(0,s.jsx)(h,{})]})}function h(){let e={padding:p.panelPadding},t=(0,s.jsx)("button",{onClick:()=>{D.getState().setCurrentPage("SettingsPage")},style:{padding:"5px",borderRadius:"50%",backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"20px"},children:"⚙️"});return(0,s.jsx)("div",{style:e,children:t})}function b({isLeftOrRight:e}){let t={width:"50%",height:"100%",position:"relative"};return"left"==e&&(t.marginRight=p.panelPadding),(0,s.jsxs)("div",{style:t,children:[(0,s.jsx)(f,{imageSrc:"placeholderWorksheetPage.webp"}),(0,s.jsx)(m,{isLeftOrRight:e})]})}function m({isLeftOrRight:e}){let t={position:"absolute",bottom:"0px",padding:"20px",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"};return"left"==e?t.left="0px":t.right="0px",(0,s.jsx)("button",{style:t,className:"turn-page-button",children:"left"==e?"\uD83E\uDC60":"\uD83E\uDC62"})}function f({imageSrc:e}){return(0,s.jsx)("img",{src:e,style:{width:"100%",height:"100%",objectFit:"contain"}})}function x(){let e={width:p.worksheetSelectionPanelWidth,height:"100%",padding:p.panelPadding,boxSizing:"border-box"},t=D().openStudents;return(0,s.jsx)("div",{style:e,children:t.map((e,t)=>(0,s.jsx)(S,{studentIDNumber:e.studentIDNumber},e.studentIDNumber))})}function S({studentIDNumber:e}){let{allStudents:t}=I.getState(),{openStudents:r}=D.getState(),n=t[e],o={width:"100%",backgroundColor:p.colorMap[n.color].light,padding:p.panelPadding,boxSizing:"border-box",marginBottom:p.panelPadding};return(0,s.jsx)("div",{style:o,children:(0,s.jsx)(w,{studentName:n.name,studentIDNumber:e})})}function w({studentName:e,studentIDNumber:t}){return(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("h1",{style:{margin:0,fontSize:"medium",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e," ID",t]}),(0,s.jsx)("button",{style:{background:"none",border:"none",cursor:"pointer",fontSize:"large",color:"black"},onClick:()=>{let{deleteOpenStudent:e}=D.getState();e(t)},children:"\xd7"})]})}let k={},j=u(e=>({statusMessage:"Waiting for file input.",setStatusMessage:t=>{e(()=>({statusMessage:t}))}}));function C(){let e=p.getGenericButtonStyle("primary"),t=o().useRef(null);return(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{style:e,onClick:()=>{t.current.click()},children:"Upload Worksheet Image Data"}),(0,s.jsx)("input",{type:"file",style:{display:"none"},ref:t,accept:".tar",onChange:function(e){k=function(e){j.getState().setStatusMessage("Extracting images from tar file...");let t=new FileReader,r={},s=0;return t.onload=function(e){untar(t.result).then(function(e){for(let t in e){let n=new Blob([e[t].blob],{type:"image/webp"}),o={name:e[t].name,blob:n,size:e[t].size};r[e[t].name]=o,s++}window.allUntarredFiles=r,j.getState().setStatusMessage(s+" images extracted.")})},t.readAsArrayBuffer(e),r}(e.target.files[0])}})]})}function v(){let e=p.getGenericButtonStyle("primary");return(0,s.jsx)("button",{style:e,onClick:()=>{console.log("RetrieveWorksheetImageDataButtonOnClick")},children:"Retrieve Worksheet Image Data"})}function y({statusMessage:e}){return(0,s.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:e})}function P(){let[e,t]=(0,n.useState)(0),[r,o]=(0,n.useState)(null);return(0,s.jsx)("img",{src:r,onClick:function(){let r=Object.keys(k);e<Object.keys(k).length-1?t(e+1):t(0);let s=k[r[e]].blob;o(URL.createObjectURL(s))},style:{width:"100px",height:"100px",border:"1px solid black"}})}let _={WorksheetViewer:(0,s.jsx)(function(){return(0,s.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexShrink:0},children:[(0,s.jsx)(g,{}),(0,s.jsx)(x,{})]})},{}),SettingsPage:(0,s.jsx)(function(){let e=j(),t={width:"100%",height:"100%",boxSizing:"border-box",padding:p.pagePadding};return(0,s.jsxs)("div",{style:t,children:[(0,s.jsx)("h1",{children:"Settings"}),p.CloseButton(p.pagePadding,()=>{useSessionStateStore.getState().setCurrentPage("WorksheetViewer")}),(0,s.jsx)(C,{}),(0,s.jsx)("br",{}),(0,s.jsx)(v,{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{onClick:()=>{e.setStatusMessage(typeof untar)},children:"Test Untar"}),(0,s.jsx)(y,{statusMessage:e.statusMessage}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(P,{})]})},{})},I=u(function(e){let t=function(){let e=localStorage.getItem("allStudents");return null!==e?(console.log("Found allStudents in local storage."),{allStudents:JSON.parse(e)}):(console.log("Didn't find allStudents in local storage."),{allStudents:{}})};return{allStudents:{},initAllStudents:()=>{e(t)},setAllStudents:t=>{e({allStudents:t})}}});I.getState().setAllStudents({1:{name:"Bill",color:"red"},2:{name:"Ted",color:"green"},3:{name:"Alice",color:"blue"}});let D=u(e=>({openStudents:[{openWorksheets:[],studentIDNumber:"1"},{openWorksheets:[],studentIDNumber:"2"}],setOpenStudents:t=>{e(()=>({openStudents:t}))},deleteOpenStudent:t=>{let r=D.getState().openStudents.filter(e=>e.studentIDNumber!==t);e(()=>({openStudents:r}))},addOpenStudentToBottom:t=>{let r=D.getState().openStudents.concat({openWorksheets:[],studentIDNumber:t});e(()=>({openStudents:r}))},currentPage:"WorksheetViewer",setCurrentPage:t=>{e(()=>({currentPage:t}))}})),A=u(e=>({userSettings:{},worksheets:{},worksheetImages:{}})),B={},R={},U={},W=function(){let e=D().currentPage;return(0,s.jsx)("div",{style:{fontFamily:"Arial, sans-serif",height:"100%",width:"100%"},children:_[e]})}},7308:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(3002);r(2783);let n={red:"#B90000",orange:"#E15E00",yellow:"#D4D300",green:"#2D8B1E",cyan:"#0DB6B3",blue:"#0d22b6",purple:"#7e069d",pink:"#da2bb9"};for(let e in n)n[e]={standard:n[e],light:n[e]+"55"};let o="/sam_browser/out",i={useBasePath:!0,basePathToUse:o,webWorkersFolderPath:o+"/web_workers_for_ws_images"},a=(i.useBasePath?i.basePathToUse:"")+"/global.css",l={title:"SAM Browser",description:""};function d({children:e}){return(0,s.jsxs)("html",{lang:"en",style:{height:"100%"},children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("link",{rel:"stylesheet",href:a}),(0,s.jsx)("script",{src:i.webWorkersFolderPath+"/untar.js"})]}),(0,s.jsx)("body",{style:{margin:"0 auto",maxWidth:"1400px",height:"100%"},children:e})]})}},2202:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,useAllStudentsStore:()=>n,useSessionStateStore:()=>o,useUserSettingsAndWorksheetImagesStore:()=>i,worksheetImages:()=>l,worksheetImagesLoadedFromFileInput:()=>d,worksheets:()=>a});var s=r(5002);let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call useAllStudentsStore() from the server but useAllStudentsStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js","useAllStudentsStore"),o=(0,s.registerClientReference)(function(){throw Error("Attempted to call useSessionStateStore() from the server but useSessionStateStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js","useSessionStateStore"),i=(0,s.registerClientReference)(function(){throw Error("Attempted to call useUserSettingsAndWorksheetImagesStore() from the server but useUserSettingsAndWorksheetImagesStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js","useUserSettingsAndWorksheetImagesStore"),a=(0,s.registerClientReference)(function(){throw Error("Attempted to call worksheets() from the server but worksheets is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js","worksheets"),l=(0,s.registerClientReference)(function(){throw Error("Attempted to call worksheetImages() from the server but worksheetImages is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js","worksheetImages"),d=(0,s.registerClientReference)(function(){throw Error("Attempted to call worksheetImagesLoadedFromFileInput() from the server but worksheetImagesLoadedFromFileInput is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js","worksheetImagesLoadedFromFileInput"),u=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\qwert\\\\Documents\\\\00_Coding\\\\sam_browser\\\\sam_browser\\\\app\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser\\app\\page.js","default")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[196],()=>r(5470));module.exports=s})();