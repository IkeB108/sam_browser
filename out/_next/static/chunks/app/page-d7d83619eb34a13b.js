(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4643:(e,t,n)=>{Promise.resolve().then(n.bind(n,5192))},5192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y,getSortedStudentsInSessionState:()=>m,useAllStudentsStore:()=>j,useSessionStateStore:()=>k});var o=n(1047),l=n(6847);let s=e=>{let t;let n=new Set,o=(e,o)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=o?o:"object"!=typeof l||null===l)?l:Object.assign({},t,l),n.forEach(n=>n(t,e))}},l=()=>t,s={setState:o,getState:l,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e))},i=t=e(o,l,s);return s},i=e=>e?s(e):s,r=e=>e,d=e=>{let t=i(e),n=e=>(function(e,t=r){let n=l.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return l.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},u=e=>e?d(e):d,a={red:"#B90000",orange:"#E15E00",yellow:"#D4D300",green:"#2D8B1E",cyan:"#0DB6B3",blue:"#0d22b6",purple:"#7e069d",pink:"#da2bb9"};for(let e in a)a[e]={standard:a[e],light:a[e]+"55"};function c(){return(0,o.jsxs)("div",{style:{flexGrow:1,flexBasis:"0%",height:"100%",backgroundColor:"lightgrey",padding:"6px",boxSizing:"border-box",display:"flex"},children:[(0,o.jsx)(h,{isLeftOrRight:"left"}),(0,o.jsx)(h,{isLeftOrRight:"right"})]})}function h(e){let{isLeftOrRight:t}=e,n={width:"50%",height:"100%",position:"relative"};return"left"==t&&(n.marginRight="6px"),(0,o.jsxs)("div",{style:n,children:[(0,o.jsx)(g,{imageSrc:"placeholderWorksheetPage.webp"}),(0,o.jsx)(S,{isLeftOrRight:t})]})}function S(e){let{isLeftOrRight:t}=e,n={position:"absolute",bottom:"0px",padding:"20px",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"};return"left"==t?n.left="0px":n.right="0px",(0,o.jsx)("button",{style:n,className:"turn-page-button",children:"left"==t?"\uD83E\uDC60":"\uD83E\uDC62"})}function g(e){let{imageSrc:t}=e;return(0,o.jsx)("img",{src:t,style:{width:"100%",height:"100%",objectFit:"contain"}})}function p(){let e=m(k().openStudents);return(0,o.jsx)("div",{style:{width:"300px",height:"100%",padding:"6px",boxSizing:"border-box"},children:e.map(e=>(0,o.jsx)(f,{studentIDNumber:e},e))})}function f(e){let{studentIDNumber:t}=e,{allStudents:n}=j.getState(),{openStudents:l}=k.getState(),s=n[t],i={width:"100%",backgroundColor:a[s.color].light,padding:"6px",boxSizing:"border-box",marginBottom:"6px"};return(0,o.jsx)("div",{style:i,children:(0,o.jsx)(x,{studentName:s.name,studentPos:l[t].positionInWorksheetSelectionPanel,studentIDNumber:t})})}function x(e){let{studentName:t,studentPos:n,studentIDNumber:l}=e;return(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsxs)("h1",{style:{margin:0,fontSize:"medium",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t," Pos",n," ID",l]}),(0,o.jsx)("button",{style:{background:"none",border:"none",cursor:"pointer",fontSize:"large"},onClick:()=>{let{deleteOpenStudent:e}=k.getState();e(l)},children:"\xd7"})]})}let b=function(){return(0,o.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexShrink:0},children:[(0,o.jsx)(c,{}),(0,o.jsx)(p,{})]})},j=u(function(e){let t=function(){let e=localStorage.getItem("allStudents");return null!==e?(console.log("Found allStudents in local storage."),{allStudents:JSON.parse(e)}):(console.log("Didn't find allStudents in local storage."),{allStudents:{}})};return{allStudents:{},initAllStudents:()=>{e(t)},setAllStudents:t=>{e({allStudents:t})}}});j.getState().setAllStudents({1:{name:"Bill",color:"red"},2:{name:"Ted",color:"green"},3:{name:"Alice",color:"blue"}});let k=u(e=>({openStudents:{2:{openWorksheets:[],positionInWorksheetSelectionPanel:0},1:{openWorksheets:[],positionInWorksheetSelectionPanel:1}},highestPositionInWorksheetSelectionPanel:1,setOpenStudents:t=>{e(()=>({openStudents:t}))},deleteOpenStudent:t=>{let n={...k.getState().openStudents};delete n[t],e(()=>({openStudents:n}))},addOpenStudentToBottom:t=>{let n={...k.getState().openStudents},o=k.getState().highestPositionInWorksheetSelectionPanel;n[t]={openWorksheets:[],positionInWorksheetSelectionPanel:o+1},e(()=>({openStudents:n})),e(()=>({highestPositionInWorksheetSelectionPanel:o+1}))}}));function m(e){let t=Object.keys(e);return t.sort((t,n)=>e[t].positionInWorksheetSelectionPanel-e[n].positionInWorksheetSelectionPanel),t}let y=function(){return(0,l.useEffect)(()=>{window.useAllStudentsStore=j,window.useSessionStateStore=k},[]),(0,o.jsx)("div",{style:{fontFamily:"Arial, sans-serif",height:"100%"},children:(0,o.jsx)(b,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[721,59,358],()=>t(4643)),_N_E=e.O()}]);